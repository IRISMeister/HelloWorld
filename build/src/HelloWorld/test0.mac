ROUTINE test0
#include %occStatus
main(msg="World") public {
	//パラメータを大文字化
	Set msg=$ZCVT(msg,"U")
	//数値なら
	If $ISVALIDNUM(msg) { Set msg=$$GetMessage(msg)	}
 	//結果出力
	Write "Hello, "_msg_" !",!
}
GetMessage(num) {
	New $NAMESPACE
	Set $NAMESPACE="USER"
	Set result=##class(%SQL.Statement).%ExecDirect(,"select city_ascii from worldcities where ID1=?",num)
	Set tSC=result.%Next()
	If $$$ISOK(tSC) { Return result."city_ascii" }
	Return ""
}